<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Netty.news: Netty 4.1.60.Final released</title>
<title>Netty: Netty 4.1.60.Final released</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<link href="../../../../images/favicon.ico" rel="shortcut icon">
<link href="//feeds.feedburner.com/netty_project" rel="alternate" title="News Feed" type="application/rss+xml">
<style>
  body {
    padding-top: 60px;
  }
</style>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css">
<script src="../../../../lib/sh/scripts/shCore.js" type="text/javascript"></script>
<script src="../../../../lib/sh/scripts/shBrushXml.js" type="text/javascript"></script>
<link href="../../../../lib/sh/styles/shCore.css" rel="stylesheet" type="text/css">
<link href="../../../../lib/sh/styles/shThemeDefault.css" rel="stylesheet" type="text/css">
<link href="../../../../lib/common.css" rel="stylesheet" type="text/css">
<script src="../../../../lib/common.js" type="text/javascript"></script>
<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js" type="text/javascript"></script>
<![endif]-->
</head>
<body>
<a class="sr-only" href="#content" id="top">Skip navigation</a>
<nav class="navbar navbar-default navbar-fixed-top hidden-print" id="header" role="navigation">
<div class="container">
<div class="navbar-header">
<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="../../../../index.html">
<span class="navbar-brand-logo"></span>
Netty project
</a>
</div>
<div class="navbar-collapse collapse">
<ul class="nav navbar-nav">
<li class="dropdown">
<a href="../../../../news/2024/12/17/4-1-116-Final.html">
News
</a>
<ul class="dropdown-menu">
<li>
<a href="../../../../news/index.html">
<i class="fa fa-archive"></i>
Archive
</a>
</li>
</ul>
</li>
<li class="dropdown">
<a href="../../../../downloads.html">
Downloads
</a>
<ul class="dropdown-menu">
<li>
<a href="https://github.com/netty/netty/archive/refs/tags/netty-5.0.0.Alpha5.tar.gz">
<i class="fa fa-cloud-download"></i>
5.0.0.Alpha5
<small>&dash; 28-Sep-2022</small>
</a>
</li>
<li>
<a href="https://github.com/netty/netty/archive/refs/tags/netty-4.2.0.RC1.tar.gz">
<i class="fa fa-cloud-download"></i>
4.2.0.RC1
<small>&dash; 11-Dec-2024</small>
</a>
</li>
<li>
<a href="https://github.com/netty/netty/archive/refs/tags/netty-4.1.116.Final.tar.gz">
<i class="fa fa-cloud-download"></i>
4.1.116.Final
<small>&dash; 17-Dec-2024</small>
</a>
</li>
<li>
<a href="https://github.com/netty/netty/archive/refs/tags/netty-4.0.56.Final.tar.gz">
<i class="fa fa-cloud-download"></i>
4.0.56.Final
<small>&dash; 05-Feb-2018</small>
</a>
</li>
<li>
<a href="https://github.com/netty/netty/archive/refs/tags/netty-3.10.6.Final.tar.gz">
<i class="fa fa-cloud-download"></i>
3.10.6.Final
<small>&dash; 29-Jun-2016</small>
</a>
</li>
<li>
<a href="https://www.tldrlegal.com/l/APACHE2">
<i class="fa fa-gavel"></i>
Apache License 2.0
</a>
</li>
<li>
<a href="https://github.com/netty/netty/releases">
<i class="fa fa-archive"></i>
Previous Releases
</a>
</li>
<li>
<a href="https://oss.sonatype.org/content/repositories/snapshots/io/netty/">
<i class="fa fa-flask"></i>
Nightly Builds
</a>
</li>
</ul>
</li>
<li class="dropdown">
<a href="../../../../wiki/index.html">
Documentation
</a>
<ul class="dropdown-menu">
<li>
<a href="../../../../wiki/user-guide.html">
<i class="fa fa-book"></i>
User guide
</a>
</li>
<li>
<a href="../../../../5.0/api/index.html">
<i class="fa fa-file-text"></i>
Javadoc - 5.0
</a>
</li>
<li>
<a href="../../../../4.2/api/index.html">
<i class="fa fa-file-text"></i>
Javadoc - 4.2
</a>
</li>
<li>
<a href="../../../../4.1/api/index.html">
<i class="fa fa-file-text"></i>
Javadoc - 4.1
</a>
</li>
<li>
<a href="../../../../4.0/api/index.html">
<i class="fa fa-file-text"></i>
Javadoc - 4.0
</a>
</li>
<li>
<a href="../../../../3.10/api/index.html">
<i class="fa fa-file-text"></i>
Javadoc - 3.10
</a>
</li>
<li>
<a href="../../../../wiki/all-documents.html">
<i class="fa fa-list"></i>
All Documents
</a>
</li>
<li>
<a href="../../../../wiki/related-articles.html">
<i class="fa fa-bookmark"></i>
Related Articles
</a>
</li>
<li class="hidden-xs" id="bookpromo-dropdown">
<a href="https://www.manning.com/maurer/">
<img src="../../../../images/netty-in-action.gif">
<br>
<small>
Use code <strong>mlnettyco</strong>
<br>
for a 37% discount!
</small>
</a>
</li>
</ul>
</li>
<li class="dropdown">
<a href="../../../../community.html">
Get Involved
</a>
<ul class="dropdown-menu">
<li>
<a href="https://github.com/netty/netty">
<i class="fa fa-github-square"></i>
Github
</a>
</li>
<li>
<a href="https://stackoverflow.com/questions/tagged/netty">
<i class="fa fa-stack-overflow"></i>
StackOverflow
</a>
</li>
<li>
<a href="https://twitter.com/netty_project">
<i class="fa fa-twitter-square"></i>
@netty_project
</a>
</li>
<li>
<a href="../../../../wiki/developer-guide.html">
<i class="fa fa-cogs"></i>
Developer Guide
</a>
</li>
<li>
<a href="https://discord.gg/GkGzzdQM5d">
<i class="fa fa-comment"></i>
Discord Server
</a>
</li>
<li>
<a href="../../../../sponsor/thanks.html">
<i class="fa fa-usd"></i>
Sponsors
</a>
</li>
<li>
<a href="../../../../wiki/adopters.html">
<i class="fa fa-users"></i>
Adopters
</a>
</li>
<li>
<a href="../../../../wiki/related-projects.html">
<i class="fa fa-chain"></i>
Related Projects
</a>
</li>
</ul>
</li>
<li class="visible-xs" id="bookpromo-nav">
<a href="https://www.manning.com/maurer/">
<img src="../../../../images/netty-in-action.gif">
<br>
<small>
Use code <strong>mlnettyco</strong>
<br>
for a 37% discount!
</small>
</a>
</li>
<li>
<a href="https://feeds.feedburner.com/netty_project">
<i class="fa fa-rss"></i>
</a>
</li>
</ul>
<form action="../../../../search.html" class="navbar-form navbar-right hidden-sm" method="GET" onsubmit="return validateGlobalSearchQuery()" role="search">
<div class="form-group">
<input class="search-query form-control" id="global-search-query" name="q" placeholder="Search" type="text">
</div>
</form>
</div>
</div>
</nav>
<div id="content">
<div class="container">
<div class="row">
<div class="col-md-9">
<div class="news-item" id="main-content">
<h1>
Netty 4.1.60.Final released
</h1>
<p class="byline">
<small>
by
<a href="https://github.com/normanmaurer">normanmaurer</a>
<br>
on
<time datetime="2021-03-09">09-Mar-2021</time>
</small>
</p>
<div class="news-content">
<p>I am happy to announce the release of netty 4.1.60.Final, which beside fixing various bugs also contains a security fix which may affect you if you use the <code>codec-http2</code> package and proxy HTTP/2 to HTTP/1.1 .
This release also includes a change that makes it possible to enable client side SSL session caching when using our native SSL implementation.</p>

<p>For more details about the impact of the CVE (CVE-2021-21295) check the <a href="https://github.com/netty/netty/security/advisories/GHSA-wm47-8v5p-wjpj">Security Advisory</a>.</p>

<p>The most important changes are:</p>

<ul>
<li>Validate Content-Length header in HTTP/2 decoder (<a href="https://github.com/netty/netty/commit/89c241e3b1795ff257af4ad6eadc616cb2fb3dc4">CVE-2021-21295</a>)</li>
<li>Enable stateless resumption for TLSv1.3 by default when using OpenSSL / BoringSSL (<a href="https://github.com/netty/netty/pull/10997">#10997</a>)</li>
<li>Allow blocking calls when parsing etcResolver/hosts files (<a href="https://github.com/netty/netty/pull/11009">#11009</a>)</li>
<li>fixed ipv6 address join ipv4 group failed (<a href="https://github.com/netty/netty/pull/11015">#11015</a>)</li>
<li>Propagate SSLException to the Http2StreamChannels (<a href="https://github.com/netty/netty/pull/11023">#11023</a>)</li>
<li>Less noisy logging in DnsServerAddressStreamProviders (<a href="https://github.com/netty/netty/pull/11031">#11031</a>)</li>
<li>HttpPostMultipartRequestDecoder performance regression (<a href="https://github.com/netty/netty/issues/10508">#10508</a>)</li>
<li>Add support for UDP_SEGMENT (GSO) when using sendmmsg (<a href="https://github.com/netty/netty/pull/11038">#11038</a>)</li>
<li>Ensure removal from queue happens before writeAndFlush(...) is called (<a href="https://github.com/netty/netty/pull/11049">#11049</a>)</li>
<li>Fix NPE that can happen in the WriteTimeoutHandler when multiple executors are used (<a href="https://github.com/netty/netty/pull/11053">#11053</a>)</li>
<li>Support session cache for client and server when using native SSLEngine implementation (<a href="https://github.com/netty/netty/pull/10994">#10994</a>)</li>
<li>Allow to config dns bind address in DnsNameResolver (<a href="https://github.com/netty/netty/pull/11061">#11061</a>)</li>
</ul>


<h1>Important notes</h1>

<h2>SSL Session caching</h2>

<p>As stated before this release includes a change which allows to use SSL session caching on the client side when using our native SSL implementation. Unfortunally the use of the cache may trigger a JDK bug on the remote peer if the remote peer uses the JDK SSL implementation for TLSv1.3. Because of that we decided to not enable the session caching by default on the client-side. If you still want to enable it you can either use <code>-Dio.netty.handler.ssl.openssl.sessionCacheClient=true</code> or explict enable it via the <code>OpenSslContext</code>:</p>

<pre><code class="java">OpenSslContext context = ...;&#x000A;contest.sessionContext().setSessionCacheEnabled(true);&#x000A;</code></pre>

<h2>GSO support for <code>EpollDatagramChannel</code></h2>

<p>This release also adds support for GSO (<code>UDP_SEGMENT</code>) when using the native <code>EpollDatagramChannel</code> and running on a system with a recent enough kernel. You can make use of this by writing <code>SegmentedDatagramPacket</code>s to the channel.</p>

<p>For more detail on GSO please read <a href="https://blog.cloudflare.com/accelerating-udp-packet-transmission-for-quic/">the blogpost by cloudflare</a> which explains how this can be used to maximize performance when using <code>QUIC</code>.</p>

<h2>CVE-2021-21295 - request smuggling</h2>

<p>This release fixes a possible security problem which have allowes for request smuggling, check the <a href="https://github.com/netty/netty/security/advisories/GHSA-wm47-8v5p-wjpj">Security Advisory</a> for more details.</p>

<h1>Thank You</h1>

<p>Every idea and bug-report counts and so we thought it is worth mentioning those who helped in this area.</p>

<p>Please report an unintended omission.</p>

<ul>
<li><a href="https://github.com/artgon">@artgon</a></li>
<li><a href="https://github.com/Arun-LinkedIn">@Arun-LinkedIn</a></li>
<li><a href="https://github.com/aztosca">@aztosca</a></li>
<li><a href="https://github.com/Bennett-Lynch">@Bennett-Lynch</a></li>
<li><a href="https://github.com/carl-mastrangelo">@carl-mastrangelo</a></li>
<li><a href="https://github.com/chrisvest">@chrisvest</a></li>
<li><a href="https://github.com/dadepo">@dadepo</a></li>
<li><a href="https://github.com/discko">@discko</a></li>
<li><a href="https://github.com/ejona86">@ejona86</a></li>
<li><a href="https://github.com/horizonzy">@horizonzy</a></li>
<li><a href="https://github.com/hyperxpro">@hyperxpro</a></li>
<li><a href="https://github.com/idelpivnitskiy">@idelpivnitskiy</a></li>
<li><a href="https://github.com/normanmaurer">@normanmaurer</a></li>
<li><a href="https://github.com/Scottmitch">@Scottmitch </a></li>
<li><a href="https://github.com/Shoothzj">@Shoothzj</a></li>
<li><a href="https://github.com/strugcoder">@strugcoder</a></li>
<li><a href="https://github.com/violetagg">@violetagg</a></li>
<li><a href="https://github.com/wineway">@wineway</a></li>
<li><a href="https://github.com/zentol">@zentol</a></li>
</ul>


</div>
<ul class="pager">
<li class="previous">
<a href="../../../../news/2021/03/04/http3-0-0-1-Final.html">&larr; Older</a>
</li>
<li>
<a href="../../../index.html">List all news items</a>
</li>
<li class="next">
<a href="../../../../news/2021/03/09/quic-0-0-8-Final.html">Newer &rarr;</a>
</li>
</ul>
</div>
<div class="comments">

            <div id="disqus_thread"></div>
            <script type="text/javascript">
            var disqus_shortname = 'netty0';
            var disqus_url = "http://netty.io/news/2021/03/09/4-1-60-Final.html";
            var disqus_developer = null;
            var disqus_identifier = "news/2021-03-09-4-1-60-Final";
            (function() {
              var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=netty0">comments powered by Disqus.</a></noscript>
          
</div>
</div>
</div>

</div>

</div>
<div class="container">
<hr>
<div id="footer">
<p>
Copyright &copy; 2024
<a href="../../../../index.html">The Netty project</a>
</p>
</div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js" type="text/javascript"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../../../lib/common.footer.js" type="text/javascript"></script>

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-95307-5', 'auto');
ga('require', 'displayfeatures');
ga('require', 'linkid', 'linkid.js');
ga('send', 'pageview');
</script>
</body>
</html>
